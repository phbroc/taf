<div *ngIf="todoItem != null" class="tdDetail">
    <span class="inBackColorStripeH">
          <div class="col{{todoItem.color}}">&nbsp;</div>
    </span>
    <h2 class="shiftRight">{{todoItem.title}}</h2>


    <div>
        <form>

            <material-input required [(ngModel)]="todoItem.title" ngControl="title" #title="ngForm" placeholder="title" label="title" floatingLabel (change)="onChanged()"></material-input>
            <material-input [(ngModel)]="todoItem.tag" ngControl="tag" #tag="ngForm" placeholder="tag" label="tag" floatingLabel (change)="onTagChanged()"></material-input>
            <material-input multiline [(ngModel)]="todoItem.description" ngControl="description" #description="ngForm" label="description" floatingLabel [disabled]="lockDescr" (change)="onDescriptionChanged()"></material-input>
            <p>
                <material-checkbox #quickcb label="Quick" (change)="quickOnOff(quickcb.checked)" [(checked)]="todoItem.quick" class="detailcb">
                </material-checkbox>
                <material-checkbox #cryptocb label="Crypto" [disabled]="!keyValid" (change)="cryptoOnOff(cryptocb.checked)" [(checked)]="todoItem.crypto" class="detailcb">
                </material-checkbox>
                <material-checkbox #donecb label="Done !" (change)="doneOnOff(donecb.checked)" [(checked)]="todoItem.done" class="detailcb">
                </material-checkbox>
            </p>

            <!-- probleme de compil dans input ci-dessous -->
            <material-input [ngFormControl]="endControl" #end="ngForm" placeholder="ending" label="ending" floatingLabel (change)="onEndChanged()" [showCharacterCount]="false" class="inputDate"></material-input>


            <div class="dateButton">
                <material-fab mini raised clear-size (trigger)="endsJ()" class="colorYellow">&nbsp;D_&nbsp;</material-fab>&nbsp;
                <material-fab mini raised clear-size (trigger)="endsPlusOne()">&nbsp;+1&nbsp;</material-fab>&nbsp;
                <material-fab mini raised clear-size (trigger)="endsMinusOne()">&nbsp;-1&nbsp;</material-fab>&nbsp;
                <material-fab mini raised clear-size (trigger)="endsS()" class="colorOrange">&nbsp;W_&nbsp;</material-fab>&nbsp;
                <material-fab mini raised clear-size (trigger)="endsPlusSeven()">&nbsp;+7&nbsp;</material-fab>&nbsp;
                <material-fab mini raised clear-size  (trigger)="endsM()" class="colorGreen">&nbsp;M_&nbsp;</material-fab>
            </div>
            <p class="weekdaystr">{{dayStr}}</p>
        </form>
    </div>



    <span [hidden]='endControl.valid' class='error'>
        <span *ngFor='let error of endControl.errors?.keys'>{{error}} </span>
    </span>


    <div class="infoId"><label>id: </label>{{todoItem.id}}, <label>version: </label>{{todoItem.version}}</div>
    <material-fab mini raised (trigger)="goBack()">
        <material-icon icon="navigate_before"></material-icon>
    </material-fab>
</div>